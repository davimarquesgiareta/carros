<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <!-- Meta tags Obrigatórias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    

    <title>Cadastro</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </head>
  <body>

    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <h1 class="display-4">
          <img src="/img/logo.png" class="img-fluid" alt="LogoMarca">
        </h1>
        
      </div>
    </div>

   
    
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
      <ul class="navbar-nav">
        
        <li class="nav-item">
          <a class="nav-link" href="/index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/listagem.html">Listagem</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/cadastro.html">Cadastro</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/sobre.html">Sobre</a>
        </li>
       
      </ul>
    </nav>

   

    <form action="">
         
        <div class="container-fluid mt-4">
            <!--CARRO CADASTRADO-->
            <div class="row">
              <div class="col-sm">
                <p>
                    <strong>Marca:</strong>
                    <br>
                    <div class="input-group ">
                        
                        <select name="marca" id="marca" class="custom-select" id="inputGroupSelect01">
                          <option selected>--Selecionar--</option>
                          <option value="chevrolet">Chevrolet</option>
                          <option value="volkswagen">Volkswagen</option>
                          <option value="renault">Renault</option>
                          <option value="ford">Ford</option>
                          <option value="toyota">Toyota</option>
                        </select>
                        
                    
                      </div>
                      <div id="erro1" class="alert alert-danger" role="alert">
                        Marca é obrigatório
                      </div>
                      
                </p>

                <p>
                  <strong>Ano:</strong>  
                  <br>
                  <div class="">
                    <input class="form-control" name="ano" id="ano" type="number" value=""  id="example-number-input" placeholder="Insira o ano do modelo" >
                  </div>
                  <div id="erro2" class="alert alert-danger" role="alert">
                    Ano inválido
                  </div>
                </p>


                <p>
                    <strong>Foto:</strong>
                    <br>
                    <div class="input-group">
                        <input type="text"  name="foto" id="foto" class="form-control" placeholder="Insira o nome com letras minusculas igual do modelo Ex: toyota" aria-label="Usuário" aria-describedby="basic-addon1">
                    </div>
                </p>
              </div>

              <div class="col-sm">
              
                <p>
                    <strong>Modelo:</strong>
                    <br>
                    <div class="input-group ">
                        <input type="text" name="modelo" id="modelo" class="form-control" placeholder="Insira o nome do modelo" maxlength="50"  aria-label="Usuário" aria-describedby="basic-addon1" >
                    </div>
                    <div id="erro3" class="alert alert-danger" role="alert">
                      Modelo inválido
                    </div>
                </p>

                <p>
                    <strong>Preço:</strong>
                    <br>
                    <div class="input-group ">
                        <input type="number" name="preco" id="preco" class="form-control" placeholder="Insira o nome da foto" aria-label="Usuário" aria-describedby="basic-addon1" >
                    </div> 
                    <div id="erro4" class="alert alert-danger" role="alert">
                      Preço inválido
                    </div>
                </p>

                <p>
                    <strong>Cor:</strong>
                    <br>
                    <div class="input-group ">
                        
                        <select name="cor" id="cor" class="custom-select" id="inputGroupSelect01">
                          <option  selected>--Selecionar--</option>
                          <option value="preto">Preto</option>
                          <option value="branco">Branco</option>
                          <option value="prata">Prata</option>
                        </select>
                      </div>
                      <div id="erro5" class="alert alert-danger" role="alert">
                        Cor é obrigatório
                      </div>
                </p>


              </div>
              
            </div>


             <!--FIM CARRO CADASTRADO-->
          </div>

      <div class="container-fluid">
            <!--CARRO CADASTRADO-->
            <div class="row">
              <div class="col-sm">
                  <strong>Descrição:</strong>
                  <br>
                  <div class="input-group mt-1">
                    <textarea name="descricao"  type ="text" id="descricao" class="form-control" aria-label="Com textarea"  rows="5" maxlength="300" placeholder="Insira a descrição do veículo em até 300 caracteres"></textarea>
                  </div>
              </div>
            </div>
            <div id="erro6" class="alert alert-danger" role="alert">
              Descrição é obrigatório
            </div>
      </div>     
      
      <div  class="container-fluid mt-3">
        <!--CARRO CADASTRADO-->
        <div class="row">
          <div class="col-sm">
            <p class="float-right">
                <a href="#" type="submit" onclick="cadastrarveiculo()" class="btn btn-primary">Cadastrar Veículo</a>
                <a href="#" name="limpar" onclick="limpar()"id="limpar" class="btn btn-secondary" >Limpar</a>
            </p>
          </div>
        </div>
  </div>  
  


  </form>

      
    <hr class="my-4">
    <p>© Instituto Federal do Sul de Minas Gerais - IFSULDEMINAS | Campus Poços de Caldas, MG.</p>
    
     
    <script>
        document.getElementById('erro1').style.display='none'
      document.getElementById('erro2').style.display='none'
      document.getElementById('erro3').style.display='none'
      document.getElementById('erro4').style.display='none'
      document.getElementById('erro5').style.display='none'
      document.getElementById('erro6').style.display='none'


      var i = localStorage.getItem('editor')

      var ano = document.getElementById('ano').value = localStorage.getItem('ano' + " " + i);
     
      var modelo = document.getElementById('modelo').value = localStorage.getItem('modelo' + " " + i);
      var preco = document.getElementById('preco').value = localStorage.getItem('preco' + " " + i);
      var cor = document.getElementById('cor').value = localStorage.getItem('cor' + " " + i);
      var descricao = document.getElementById('descricao').value = localStorage.getItem('descricao' + " " + i);

      
      
      
     
      
      
      

      
      
    
    function cadastrarveiculo(){
      

      // ZERANDO TODAS AS MENSAGENS DE ERROS DO HTML
     /* console.log(document.getElementById('marca').value)
      console.log(document.getElementById('ano').value)
      console.log(document.getElementById('foto').value)
      console.log(document.getElementById('modelo').value)
      console.log(document.getElementById('preco').value)
      console.log(document.getElementById('cor').value)
      console.log(document.getElementById('descricao').value)*/
      // FIM ZERANDO TODAS AS MENSAGENS DE ERROS DO HTML

      // VARIAVEIS DOS CAMPOS
     
     
  


      var marca = document.getElementById('marca').value 
      var ano = document.getElementById('ano').value
      var foto = document.getElementById('foto').value 
      var modelo = document.getElementById('modelo').value
      var preco = document.getElementById('preco').value 
      var cor = document.getElementById('cor').value
      var descricao = document.getElementById('descricao').value
      // FIM VARAVIEIS DOS CAMPOS

     // VALIDAÇÃO DOS CAMPOS E MOSTRANDO OS ERROS
      var validar=0;

      if (marca == "--Selecionar--"){
        console.log("o campo MARCA está vazio")
        validar++;
        document.getElementById('erro1').style.display='block'
      }  else{
          document.getElementById('erro1').style.display='none'
        }

      if (ano<1900 || ano >2021){
        console.log("o campo ANO está vazio")
        validar++;
        document.getElementById('erro2').style.display='block'
      } else{
        document.getElementById('erro2').style.display='none'
      }

      if (foto == "ford"){
        foto = "img/ford.jpg"
        
      }else if (foto == "toyota"){
        foto = "img/toyota.jpg"
     }else if (foto == "renault"){
      foto = "img/renault.jpg"
     }else if (foto == "chevrolet"){
      foto = "img/chevrolet.jpg"
     }else if (foto == "volkswagen"){
      foto = "img/volkswagen.jpg"


     }

      if (modelo.length < 2){
        console.log("o campo MODELO está vazio")
        validar++;
        document.getElementById('erro3').style.display='block'
      } else{
        document.getElementById('erro3').style.display='none'
      }

      if (preco<0 || preco>100000000000 || preco == ""){
        console.log("o campo PRECO está vazio")
        validar++;
        document.getElementById('erro4').style.display='block'
      }else{
        document.getElementById('erro4').style.display='none'
      }

      if (cor == "--Selecionar--"){
        console.log("o campo COR está vazio")
        validar++;
        document.getElementById('erro5').style.display='block'
      }else{
        document.getElementById('erro5').style.display='none'
      }

      if (descricao == ""){
        console.log("o campo descricaoestá vazio")
        validar++;
        document.getElementById('erro6').style.display='block'
      }else{
        document.getElementById('erro6').style.display='none'
      }
      
      // SE NÃO FALTAR NENHUM CAMPO OBRIGATÓRIO SALVA O CADASTRO E PASSA PRA PAGINA DE CADASTRO SUCEDIDO! 
      if(validar == 0){

        



        console.log("passar para a tela de cadastra bem sucedido!")

       
        localStorage.setItem('marca' + " " + i,marca) 
        localStorage.setItem('ano' + " " + i,ano) 
        localStorage.setItem('foto' + " " + i,foto) 
        localStorage.setItem('modelo' + " " + i,modelo) 
        localStorage.setItem('preco' + " " + i,preco) 
        localStorage.setItem('cor' + " " + i,cor) 
        localStorage.setItem('descricao' + " " + i,descricao) 
        
        
        
        for (var d=0; d<=i ; d++){
          

          if(localStorage.getItem('marca' + " " + d)){
            console.log(localStorage.getItem('marca'+" " + d))
            console.log(localStorage.getItem('ano'+" " + d))
            console.log(localStorage.getItem('foto'+" " + d))
            console.log(localStorage.getItem('modelo'+" " + d))
            console.log(localStorage.getItem('preco'+" " + d))
            console.log(localStorage.getItem('cor'+" " + d))
            console.log(localStorage.getItem('descricao'+" " + d))
        
          }
        }

        
        
     
        
       
        
          
        window.location.href = "cadastrocompleto.html";



    

        
      }

      
      

    }

    
    
    </script>
    

    <!-- JavaScript (Opcional) -->
    <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="/js/clientes.js"></script>
  </body>
</html>